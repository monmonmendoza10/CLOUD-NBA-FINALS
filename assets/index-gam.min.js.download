!function(){"use strict";let e={acString:"",frameCallId:0,categories:{},cmpCallbacks:{},config:{},consentConfirmed:!1,consentHistory:[],consentId:"",consentInteractions:0,consentSource:"",consentState:null,consentTime:null,consentVersion:"unknown",controls:{},dbg:!1,eventCallbacks:{},frame:"",geoCountry:"",geoState:"",geoCS:"",gppApisAvail:{tcfeuv2:2,tcfcav1:5,uspv1:6,usnat:7},gppCmpApi:null,gppCmpId:1,gppString:"",gppStringVer:"",gppStub:null,loadTime:0,oneTrustLocationSet:!1,optanonLoaded:!1,otBlocked:!1,otFailCounter:0,otFailed:!1,pageLang:"en",parsableTypes:{binary:!0,boolean:!0,trinary:!0,integer:!0},tcString:"",tcStringVer:"",ucChild:!1,userConsentVersion:"0.5.0",usingCmpFrame:null,usingCompatMode:!1,usingGpc:!1,usingGppFrame:null,usingIabCcpa:!1,usingIabGdpr:!1,usingIabGpp:!1,usingOTGpp:!1,usingUspFrame:null,uspString:"",defaults:{addtlConsentCookie:"OTAdditionalConsentString",adChoicesLinkTitle:{ar:"اختيارات الإعلان",de:"Anzeigenauswahl",en:"Ad Choices",es:"Elecciones de anuncios",fr:"Choix d’annonces"},affiliatesLinkTitle:{ar:"الشركات التابعة",en:"Affiliates",de:"Mitgliedsorganisationen",es:"Afiliadas",fr:"Affiliées"},brand:"NBA",categories:{req:"required",dsa:"data-store",cad:"ads-contextual",pap:"ads-person-prof",pad:"ads-person",pcp:"content-person-prof",pcd:"content-person",map:"measure-ads",mcp:"measure-content",mra:"measure-market",pdd:"product-develop",ccd:"content-contextual",sec:"product-security",tdc:"deliver-content",scp:"privacy-choices",cos:"combine-data",dlk:"link-devices",did:"id-devices",gld:"geolocate",sid:"scan-devices",ftc:"1p-targeting",dsh:"data-share",dsl:"data-sell",pdu:"personal-data",kc12:"known-child-12",kc16:"known-child-16",sdre:"sensitive-racial",sdrb:"sensitive-belief",sdhe:"sensitive-health",sdso:"sensitive-sexual",sdir:"sensitive-citizen",sdge:"sensitive-gene",sdbm:"sensitive-biometric",sdsp:"sensitive-spi",sdss:"sensitive-ssi",sduo:"sensitive-org",sdco:"sensitive-comm"},ccCookie:"countryCode",ccpaGeos:["US"],compatCategories:{vendor:["data-share","data-sell","ads-person-prof","ads-person"],"targeted-ads":["ads-person-prof","ads-person"],"sensitive-geo":["geolocate"]},confirmCookie:"OptanonAlertBoxClosed",consentChangeAction:null,consentChangeActionDelay:500,consentCookie:"OptanonConsent",consentDefaults:{required:!0,"data-store":!0,"ads-contextual":!0,"ads-person":!0,"ads-person-prof":!0,"content-person":!0,"content-person-prof":!0,"measure-ads":!0,"measure-content":!0,"measure-market":!0,"product-develop":!0,"content-contextual":!1,"product-security":!0,"deliver-content":!0,"privacy-choices":!0,"combine-data":!0,"link-devices":!0,"id-devices":!0,geolocate:!1,"scan-devices":!1,"1p-targeting":!0,"data-share":!0,"data-sell":!0,"personal-data":!1,"known-child-12":!1,"known-child-16":!1,"sensitive-racial":!1,"sensitive-belief":!1,"sensitive-health":!1,"sensitive-sexual":!1,"sensitive-citizen":!1,"sensitive-gene":!1,"sensitive-biometric":!1,"sensitive-spi":!1,"sensitive-ssi":!1,"sensitive-org":!1,"sensitive-comm":!1},consentExpireIn:1,consentNotApplicable:["personal-data","known-child-12","known-child-16","sensitive-racial","sensitive-belief","sensitive-health","sensitive-sexual","sensitive-citizen","sensitive-gene","sensitive-biometric","geolocate","sensitive-spi","sensitive-ssi","sensitive-org","sensitive-comm"],consentLinkTitle:{ar:"ملفات تعريف الارتباط",de:"Cookie-Einstellungen",en:"Cookie Settings",es:"Configuración de Cookies",fr:"Paramètres des Cookies"},controlCookie:"OptanonControl",cookieSameSite:"Lax",cookieSecure:!1,countryCode:"US",defaultCountry:"GB",defaultLanguage:"en",defaultState:"",enableDebug:!1,enableGPC:!0,enableTransitionCheck:!0,enableWebViewCheck:!0,gdprIabCookie:"eupubconsent-v2",geoCheckFunction:null,geoPassedToOneTrust:!0,gpcFixCookie:"",gppCategories:{usnat:[{field:"SharingNotice",type:"trinary",default:1},{field:"SaleOptOutNotice",type:"trinary",default:1},{field:"SharingOptOutNotice",type:"trinary",default:1},{field:"TargetedAdvertisingOptOutNotice",type:"trinary",default:1},{field:"SharingOptOut",type:"trinary",val:"data-share"},{field:"SaleOptOut",type:"trinary",val:"data-sell"},{field:"TargetedAdvertisingOptOut",type:"trinary",val:["ads-person-prof","ads-person"]},{field:"PersonalDataConsents",type:"trinary",default:0,val:"personal-data"},{field:"KnownChildSensitiveDataConsents",type:"array-trinary",default:[0,0],maxCount:2,0:"known-child-12",1:"known-child-16"},{field:"SensitiveDataProcessing",type:"array-trinary",default:[0,0,0,0,0,0,0,0,0,0,0,0],maxCount:12,0:"sensitive-racial",1:"sensitive-belief",2:"sensitive-health",3:"sensitive-sexual",4:"sensitive-citizen",5:"sensitive-gene",6:"sensitive-biometric",7:"geolocate",8:"sensitive-spi",9:"sensitive-ssi",10:"sensitive-org",11:"sensitive-comm"}],uspv1:[{field:"OptOutSale",type:"binary",val:["data-share","data-sell","ads-person-prof","ads-person"]}]},gppIabCookie:"OTGPPConsent",gppSection:"",iabRegion:"",languageFromBrowser:!0,oneTrustLoadTimeout:1e4,privacyCenterLinkTitle:{ar:"سياسة خصوصية المستهلك",de:"Datenschutzhinweise",en:"Privacy Policy",es:"Política de Privacidad",fr:"Politique de Confidentialité"},regionChangeAction:null,regId:"",regions:[{id:"us",compatCodes:{ven:["dsh","dsl","pap","pad"],tpv:["dsh","dsl","pap","pad"]},compatTransition:{cond:!1,new:["dsh","dsl","pap","pad"],old:"ven"},consentExpireIn:3,consentGpcDefaults:{"data-share":!1,"data-sell":!1,"ads-person-prof":!1,"ads-person":!1},consentImpliedDefaults:{"data-store":!0,"ads-contextual":!0,"content-person":!0,"content-person-prof":!0,"measure-ads":!0,"measure-content":!0,"measure-market":!0,"product-develop":!0,"content-contextual":!0,"product-security":!0,"deliver-content":!0,"privacy-choices":!0,"combine-data":!0,"link-devices":!0,"id-devices":!0,geolocate:!1,"scan-devices":!1},consentLinkTitle:{ar:"لا تبيع أو تشارك معلوماتي الشخصية",de:"Nicht Verkauf oder Nicht Weitergabe Ihrer personenbezogenen Daten zu stellen",en:"Do Not Sell Or Share My Personal Information",es:"No Venda Vi Comparta Mi Información Personal",fr:"Ne pas vendre ni partager mes informations personnelles"},geoMatch:["US"],gppSection:"usnat",iabRegion:"ccpa"},{id:"gdpr",consentDefaults:{"data-store":!1,"ads-contextual":!1,"ads-person-prof":!1,"ads-person":!1,"content-person-prof":!1,"content-person":!1,"measure-ads":!1,"measure-content":!1,"measure-market":!1,"product-develop":!1,"content-contextual":!1,"combine-data":!1,"link-devices":!1,"id-devices":!1},consentImpliedDefaults:{"product-security":!0,"deliver-content":!0,"privacy-choices":!0,"combine-data":!0,"link-devices":!0,"id-devices":!0,geolocate:!1,"scan-devices":!1,"data-share":!0,"data-sell":!0},consentLinkTitle:{ar:"إدارة ملفات تعريف الارتباط+",de:"Cookies Verwalten+",en:"Manage Cookies+",es:"Administrar cookies+",fr:"Gérer les Cookies+"},geoMatch:["GB","DE","FR","IT","ES","PL","RO","NL","BE","GR","CZ","PT","SE","HU","AT","BG","DK","FI","SK","IE","HR","LT","SI","LV","EE","CY","LU","MT","NO","IS","LI","CH"],iabRegion:"gdpr"},{id:"global",geoMatch:["*"],useFixedConsent:!0}],reloadOnConsentChange:!0,reloadOnConsentReduction:!1,rightsRequestLinkTitle:{ar:"بوابة طلبات الحقوق الفردية",de:"Anfrageportal für Individualrechte",en:"Individual Rights Request Portal",es:"Portal de solicitud de derechos individuales",fr:"Portail de demande de droits des individus"},scCookie:"stateCode",setPageClass:!0,src:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",strictIabCompliance:!0,tcfOpts:{categories:{purposes:["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop","content-contextual"],specialPurposes:["product-security","deliver-content","privacy-choices"],features:["combine-data","link-devices","id-devices"],specialFeatures:["geolocate","scan-devices"]},policies:{2:{iabMaxPurposes:10,iabMaxSpecialFeats:2},3:{iabMaxPurposes:10,iabMaxSpecialFeats:2},4:{iabMaxPurposes:11,iabMaxSpecialFeats:2},5:{iabMaxPurposes:11,iabMaxSpecialFeats:2}}},ucFlavor:"nba",useFixedConsent:!1,useGPP:!0,useIAB:!0,useIabString:!0,uspApiCookieName:"usprivacy",uspApiExplicitNotice:!0,uspApiIsLspa:!1}};function n(){return{...e}}function t(n){e={...e,...n}}function o(e){if("info"!==e&&"error"!==e&&"debug"!==e&&"warn"!==e)throw new Error("Consent Log needs a log type of info, debug, warn, or error.");if("debug"===e&&!n().dbg&&!n().config.enableDebug)return;const t=Array.prototype.slice.call(arguments);let o=n().frame;t[0]="[NBA User Consent]"+(0===o.length?"":" ("+o+"):"),"error"===e?console.error.apply(console,t):"warn"===e?console.warn.apply(console,t):console.log.apply(console,t)}function s(){return window!==window.parent?(t({ucChild:!0,frame:window.name||window.location.pathname.split("/").pop()}),!0):(t({ucChild:!1}),!1)}function i(e,n,t){if(!e.frames[t]){if(n&&n.body){const e=n.createElement("iframe");e.style.cssText="display:none",e.name=t,n.body.appendChild(e)}else setTimeout(i.bind(e,e,t),5);return!0}return!1}function a(){return s(),!n().ucChild}function r(){return s(),n().ucChild}function d(e,t){if(i(e,t,"_usrConNBA")){o("debug","Setup UserConsent IPC frame.");let t=n().config,s=n().dbg,i=n().consentState,a=n().consentTime,r=n().consentVersion,d=n().consentConfirmed,c=n().gppString,l=n().tcString,p=n().acString;try{e.sessionStorage.setItem("_ucNBAConf",JSON.stringify({cookieDomain:t.cookieDomain,cookieSameSite:t.cookieSameSite,cookieSecure:t.cookieSecure,domId:t.domId,enableDebug:s,langFromBrowser:t.languageFromBrowser,parentReload:t.reloadOnConsentChange,regId:t.regId,src:t.src})),e.sessionStorage.setItem("_ucNBACons",JSON.stringify({consentState:i,consentTime:a,consentVersion:r,consentConfirmed:d,gppString:c,tcString:l,acString:p}))}catch(e){o("error","Failed to set UserConsent frame data!")}}else o("error","Failed to setup UserConsent IPC frame!")}function c(){if(r()){try{let e=JSON.parse(window.sessionStorage.getItem("_ucNBAConf")),o=JSON.parse(window.sessionStorage.getItem("_ucNBACons"));e&&t({config:{...n().config,cookieDomain:e.cookieDomain,cookieSameSite:e.cookieSameSite,cookieSecure:e.cookieSecure,domId:e.domId,dbg:e.enableDebug,languageFromBrowser:e.langFromBrowser,reloadOnConsentChange:e.parentReload,regId:e.regId,src:e.src}}),o&&t({consentState:o.consentState,consentTime:o.consentTime,consentVersion:o.consentVersion,consentConfirmed:o.consentConfirmed,gppString:o.gppString,tcString:o.tcString,acString:o.acString})}catch(e){o("error","Failed to get UserConsent frame data!")}!function(e,n){e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n)}(window,(function(e){if("_ucNBAConsReset"===e.data){let e;o("debug","UserConsent frame received consent change notification.");try{e=JSON.parse(win.sessionStorage.getItem("_ucNBACons"))}catch(n){e=null}"object"==typeof e&&null!==e&&window.nbaUserConsent&&(window.nbaUserConsent_initted?window.nbaUserConsent.consentState!==e.consentState&&(o("debug","UserConsent frame detected consent change, reloading page."),window.location.reload()):(o("debug","UserConsent not initialized yet, starting init."),window.nbaUserConsent.init()))}}))}}function l(e,s){let i={config:n().config,consentConfirmed:n().consentConfirmed,forceLang:n().forceLang,dbg:n.dbg,alertBoxClosed:document.cookie.indexOf("OptanonAlertBoxClosed")>-1};if(a()||r()&&i.alertBoxClosed){o("debug","Setting up OneTrust script",Date.now()-n().loadTime),e.nbaUserConsent_wait=setTimeout((function(){t({otFailed:!0,otFailCounter:n().otFailCounter+1}),clearTimeout(e.nbaUserConsent_wait),e.nbaUserConsent_wait=e.WBD.UserConsent_wait=-1,n().otFailCounter<3?(o("debug","Re-initializing UserConsent after OneTrust load timeout."),e.nbaUserConsent.init()):o("error","Failed to load OneTrust script after 3 attempts, giving up.")}),i.config.oneTrustLoadTimeout),a()?d(e,s):c(),e.OptanonWrapper=function(){e.nbaUserConsent_initted?o("debug","OptanonWrapper called post UC-initialization."):(o("debug","OneTrust script loaded, OptanonWrapper called"),e.nbaUserConsent_wait&&(clearTimeout(e.nbaUserConsent_wait),e.nbaUserConsent_wait=e.WBD.UserConsent_wait-1),t({optanonLoaded:!0}),e.nbaUserConsent_initted=e.WBD.UserConsent_initted=!0,o("debug","User Consent initialized",Date.now()-n().loadTime),o("debug","Dispatching UserConsentReady event.",Date.now()-n().loadTime),s.dispatchEvent(new CustomEvent("userConsentReady",{bubbles:!1,cancelable:!1,detail:{time:new Date}})),window.OneTrust&&"US"===window.OneTrust.getGeolocationData().country&&!1===window.OneTrust.IsAlertBoxClosed()&&setTimeout((function(){o("debug","Countdown to run analytics after OneTrust loaded has finished.",Date.now()-n().loadTime),function(){if(window.OneTrust&&document&&!1===window.OneTrust.IsAlertBoxClosed()){o("debug","Starting NBA Analytics after OneTrust load",Date.now()-n().loadTime),OneTrust.AllowAll();let e=n().config.cookieDomain;document.cookie="OptanonAlertBoxClosed=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;domain="+e,OneTrust.InitializeBanner(),OneTrust.LoadBanner()}else o("info","Did not run startAnalytics function",Date.now()-n().loadTime)}()}),3e3))};const r=s.createElement("script");i.consentConfirmed&&(r.async=!0),r.charset="utf-8",i.config.languageFromBrowser&&!i.forceLang||(r.dataset.documentLanguage="true",i.forceLang&&(r.dataset.language=i.pageLang)),r.dataset.domainScript=i.config.domId,r.type="text/javascript",r.src=i.config.src,r.onload=function(){o("debug","OneTrust script loaded successfully",Date.now()-n().loadTime)},s.head?s.head.appendChild(r):s.body.appendChild(r),o("debug","Loading OneTrust",Date.now()-n().loadTime)}else o("debug","Not the top frame, getting up the frame context"),c()}function p(e){if(/.nba.com$|.wnba.com$|localhost/.test(e.location.hostname)){if(o("debug","isNBA: Setting cookieDomain and domId based on hostname"),!n().config.cookieDomain){let o=e.location.hostname,s=e.location.hostname.split("."),i=n().config;if(s.length>1){let e=s.pop();o="."+s.pop()+"."+e}i.cookieDomain=o,t({config:i})}if(!n().config.domId){let e={".nba.com":"d0494fd0-8921-497a-8323-e3d29775ce1b",".wnba.com":"64ccabf0-b92d-4b29-8435-25e30c104c76",localhost:"d0494fd0-8921-497a-8323-e3d29775ce1b-test"},o=n().config;o.domId=e[o.cookieDomain],t({config:o})}return!0}return!1}window.WBD=window.WBD||{},window.WM=window.WM||{},window.nbaUserConsent=window.nbaUserConsent||function(e,s){let i=!(!console||-1===e.location.search.search(/[?&]wmuc_debug=[1t]|[?&]consent_debug=[1t]/));function a(i){if(e.nbaUserConsent_initted)return void o("debug","Already initialized.");if(void 0!==e.nbaUserConsent_wait&&-1!==e.nbaUserConsent_wait)return void o("debug","Waiting for OneTrust to load, not initializing.");let a=n().defaults;if("object"==typeof i&&null!==i)for(const[e,n]of Object.entries(i))a[e]=n;try{let n=JSON.parse(e.sessionStorage.getItem("_ucNBAConf"));if(n)for(const[e,t]of Object.entries(n))a[e]=t}catch(e){o("error","Failed to parse existing config from sessionStorage",e)}try{let n=JSON.parse(e.sessionStorage.getItem("_ucNBACons"));n&&t({consentState:n.consentState,consentTime:n.consentTime,consentVersion:n.consentVersion,consentConfirmed:n.consentConfirmed,gppString:n.gppString,tcString:n.tcString,acString:n.acString})}catch(e){o("error","Failed to parse existing consent from sessionStorage",e)}t({config:a}),n().config.domId||p(e)?(o("debug","About to write in OneTrust script",n().config.domId,Date.now()-n().loadTime),l(e,s),e.addEventListener("OneTrustGroupsUpdated",(function(s){e.OptanonActiveGroups!==n().consentState&&(t({consentState:e.OptanonActiveGroups}),o("debug","OneTrust Groups Updated",Date.now()-n().loadTime))}))):o("error","No domId available to initialize.")}return i&&t({dbg:i}),t({loadTime:Date.now()}),o("debug","Loading version "+n().userConsentVersion),e.nbaUserConsent&&e.nbaUserConsent_loaded?o("error","Two instances of UserConsent were loaded!"):e.nbaUserConsent_loaded=!0,"object"==typeof e.WBD.UserConsentConfig&&null!==e.WBD.UserConsentConfig?a(e.WBD.UserConsentConfig):"object"==typeof e.WM.UserConsentConfig&&null!==e.WM.UserConsentConfig?a(e.WM.UserConsentConfig):"object"==typeof e.nbaUserConsentConfig&&null!==e.nbaUserConsentConfig?(o("debug","User Consent will initialize from nbaUserConsentconfig"),a(e.nbaUserConsentConfig)):p(e)&&(o("debug","User Consent will auto-initialize. Put nbaUserConsentConfig ahead of consent script to prevent auto init",Date.now()-n().loadTime),a()),{init:a,getConsentState:function(){return n().consentState},getVersion:function(){return n().userConsentVersion}}}(window,document),window.WBD.UserConsent={init(e){o("warn","User Consent initialized under WBD namespace. Please change references from WM.UserConsent or WBD.UserConsent to nbaUserConsent\nContact NBA Platform Architecture Group for more information."),window.nbaUserConsent.init(e)},getGppAPIstring:function(){for(const e of document.cookie.split(";"))if(/^[\s]?OTGPPConsent=/.test(e))return e.split("=")[1]},getConsentState:function(){let e=nbaUserConsent.getConsentState(),n={req:"required",ven:"vendor",dsa:"data-store",cad:"ads-contextual",pap:"ads-person-prof",pad:"ads-person",pcp:"content-person-prof",pcd:"content-person",map:"measure-ads",mcp:"measure-content",mra:"measure-market",pdd:"product-develop",ccd:"content-contextual",sec:"product-security",tdc:"deliver-content",scp:"privacy-choices",cos:"combine-data",dlk:"link-devices",did:"id-devices",gld:"geolocate",sid:"scan-devices",ftc:"1p-targeting",dsh:"data-share",dsl:"data-sell",pdu:"personal-data",kc12:"known-child-12",kc16:"known-child-16",sdre:"sensitive-racial",sdrb:"sensitive-belief",sdhe:"sensitive-health",sdso:"sensitive-sexual",sdir:"sensitive-citizen",sdge:"sensitive-gene",sdbm:"sensitive-biometric",sdsp:"sensitive-spi",sdss:"sensitive-ssi",sduo:"sensitive-org",sdco:"sensitive-comm",sdch:"sensitive-conhealth",sdcv:"sensitive-victim",sdno:"sensitive-origin",sdsx:"sensitive-extsex"},t={};for(const o of e.split(","))o.length>1&&n[o]&&(t[n[o]]=!0);return t}},window.WBD.UserConsent_initted=window.nbaUserConsent_initted,window.WBD.UserConsent_loaded=window.nbaUserConsent_loaded,window.WBD.UserConsent_wait=window.nbaUserConsent_wait,window.WM=window.WBD}();
